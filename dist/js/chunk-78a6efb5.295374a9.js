(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78a6efb5"],{3617:function(t,e,s){"use strict";var i=s("9999"),o=s.n(i);o.a},"52ce":function(t,e,s){"use strict";(function(t){s("a434"),s("d3b7"),s("6062"),s("3ca3"),s("ddb0");var i=s("2909"),o=s("5530"),r=s("db49"),n=s("2f62"),a=s("bc3a"),c=s.n(a),d=s("6e87"),u=s("af1f"),l=s("8055"),h=s.n(l);t.jQuery=s("1157");var p=t.jQuery;window.$=p,e["a"]={props:["image"],data:function(){return{userId:localStorage.getItem("userID"),img:null,isFriend:!1,requestPending:!1,index:0,socket:h()(r["a"],{query:{token:localStorage.getItem("token")}}),userName:null,urls:r["a"]}},computed:Object(o["a"])(Object(o["a"])({},Object(n["c"])({initRequest:d["p"]})),{},{paramsId:function(){return this.$route.params},getSchPicture:function(){return this.$store.getters.getUserSrchPic},isFriendRequestExist:function(){return this.requestPending?"Request Pending":"Add Friend"},posts:function(){for(var t=[],e=0;e<this.$store.getters.getUserPosgts.length;e++)t.push(this.$store.getters.getUserPosgts[e][0]);var s=Object(i["a"])(new Set(t));return console.log("UserProfile, unique",s),s}}),created:function(){var t=this;this.socket.on("edit-post",(function(e){t.$store.commit(d["g"],e);for(var s=0;s<t.posts.length;s++)t.posts[s]._id==e.id&&(t.posts[s].text=e.text);console.log("Post.vue edit post socket22222",t.posts)})),this.socket.on("delete-post",(function(e){t.$store.commit(d["e"],e);for(var s=0;s<t.posts.length;s++)if(t.posts[s]._id==e.postid){t.posts.splice(s,1);var i=t;i.$forceUpdate()}console.log("UserProfile, delete-post",t.posts)})),this.isFriendRequestExist,this.$store.dispatch("getUserSearchPic",this.$route.params.id),setTimeout((function(){t.submitFriend}),1e3),c.a.post(this.urls+"/friend-request/remove-submitted-user",{id:this.$route.params.id},{headers:{authorization:localStorage.getItem("token")}}).then((function(e){return console.log("UseProfile 0999",e.data.success),t.isFriend=e.data.success,t.isFriend})),c.a.post(this.urls+"/friend-request/request-pending",{id:this.$route.params.id},{headers:{authorization:localStorage.getItem("token")}}).then((function(e){console.log("USerProfile 2112: ",e.data),t.requestPending=e.data})),console.log("USerProfile",this.paramsId.id),this.$store.dispatch(d["o"],{index:0,id:this.$route.params.id}),this.$store.dispatch(d["c"],localStorage.getItem("userID")),c.a.post(this.urls+"/users/get-username-profile/"+this.paramsId.id,{1:1},{headers:{authorization:localStorage.getItem("token")}}).then((function(e){t.userName=e.data}))},methods:Object(o["a"])(Object(o["a"])({addRequest:function(t){var e=this;c.a.post(this.urls+"/friend-request/new-request",{id:t},{headers:{authorization:localStorage.getItem("token")}}).then((function(s){s.data.success&&(console.log("frien request response: ",s),e.requestPending=!0,e.socket.emit("new-fr-req",t),e.socket.emit("get-fr-req-data",t))}))}},Object(n["b"])({})),{},{scroll:function(){var t=this;p(window).scroll((function(){p(window).scrollTop()+p(window).height()>p(document).height()-100&&(console.log(" bottom!"),t.index+=2,t.$store.dispatch(d["o"],{index:t.index,id:t.$route.params.id}))}))},inPostClick:function(t){console.log("Posts.vue inPostClick",t)},removeFriend:function(){this.isFriend=!1,this.requestPending=!1,this.socket.emit("remove-friend",{id:this.$route.params.id})}}),mounted:function(){this.scroll()},components:{"my-post":u["a"]},beforeDestroy:function(){this.$router.go()}}}).call(this,s("c8ba"))},9999:function(t,e,s){},fde0:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("div",{staticClass:"main"},[s("div",{staticClass:"parent"},[s("img",{staticClass:"image1",attrs:{src:"https://picsum.photos/510/300?random","aspect-ratio":"2",cols:"12"}}),s("img",{staticClass:"image2",class:{width2:t.windowWidth<785,width3:t.windowWidth<309,width4:t.windowWidth<332},attrs:{src:t.getSchPicture}})]),s("br"),s("div",{staticClass:"add-btn"},[s("div",[s("span",{staticStyle:{color:"#e91e63","background-clip":"border-box","border-radius":"50%","text-align":"center"}},[t._v(" "+t._s(t.userName)+" ")])]),s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",[s("div",{staticClass:"text-xs-center"},[s("div",{staticStyle:{"margin-left":"-20px",display:"contents"}},[t.userId===t.paramsId.id||t.isFriend?t._e():s("v-btn",{class:{"btn-2":t.windowWidth<773,"btn-3":t.windowWidth<389},attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.addRequest(t.paramsId.id)}}},[t._v(" "+t._s(t.isFriendRequestExist)+" ")]),t.isFriend?s("v-btn",{class:{"btn-1":t.windowWidth>773,"btn-2":t.windowWidth<773,"btn-3":t.windowWidth<389,"btn-4":t.windowWidth<662,"btn-5":t.windowWidth<660,"btn-6":t.windowWidth<365},attrs:{depressed:"",color:"primary"}},[s("span",{staticStyle:{"margin-left":"30%"}},[t._v(" Friend ")]),s("v-btn",{staticStyle:{"margin-left":"100px",color:"black"},on:{click:function(e){return e.stopPropagation(),t.removeFriend()}}},[s("span",{staticStyle:{color:"red"}},[t._v(" X ")])])],1):t._e()],1)])])],1)],1)])]),s("v-container",{staticClass:"posts-container",attrs:{fluid:""}},[s("v-row",{attrs:{justify:"center"}},t._l(t.posts,(function(e){return s("v-col",{key:e._id,attrs:{cols:"12"}},[s("div",{staticClass:"post-wrapper",on:{click:function(s){return t.inPostClick(e)}}},[s("my-post",{staticClass:"responsive-post",attrs:{image:t.urls+"/static/"+e._id+".PNG",name:e.text,id:e._id,commentsArr:e.comments,likeNumber:e.likes.length,likesArr:e.likes,owner:e.owner,date:e.date,isEdit2:!1}})],1)])})),1)],1)],1)},o=[],r=s("52ce"),n=r["a"],a=(s("3617"),s("2877")),c=s("6544"),d=s.n(c),u=s("8336"),l=s("62ad"),h=s("a523"),p=s("0e8f"),m=s("a722"),f=s("0fd9"),g=Object(a["a"])(n,i,o,!1,null,"44acd592",null);e["default"]=g.exports;d()(g,{VBtn:u["a"],VCol:l["a"],VContainer:h["a"],VFlex:p["a"],VLayout:m["a"],VRow:f["a"]})}}]);
//# sourceMappingURL=chunk-78a6efb5.295374a9.js.map